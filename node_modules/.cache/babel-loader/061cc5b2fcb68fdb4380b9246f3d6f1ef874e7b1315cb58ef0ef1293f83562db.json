{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vladi\\\\Documents\\\\GitHub\\\\mern-social-media\\\\client\\\\src\\\\components\\\\Comment.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box, Typography, useTheme } from \"@mui/material\";\nimport UserImage from './UserImage';\nimport FlexBetween from './FlexBetween';\nimport { setPost } from \"state\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Comment(_ref) {\n  _s();\n  let {\n    userId,\n    comment,\n    postId\n  } = _ref;\n  const token = useSelector(state => state.token);\n  const {\n    _id\n  } = useSelector(state => state.user);\n  const [user, setUser] = useState(\"\");\n  const dispatch = useDispatch();\n  const {\n    palette\n  } = useTheme();\n  const main = palette.neutral.main;\n  const getCommentUser = async () => {\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/users/${userId}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    setUser(data);\n  };\n  const handleDeleteComment = async () => {\n    const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/posts/${postId}/${userId}/comment/delete`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        comment: comment\n      })\n    });\n    const updatedPost = await response.json();\n    dispatch(setPost({\n      post: updatedPost\n    }));\n  };\n  useEffect(() => {\n    getCommentUser();\n  }, [comment]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(FlexBetween, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(UserImage, {\n        image: user.picturePath,\n        size: \"35px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            m: \"0.5rem 0rem -0.5rem 1rem\"\n          },\n          children: `${user.firstName} ${user.lastName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            color: main,\n            m: \"0.5rem 0\",\n            pl: \"1rem\"\n          },\n          children: comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), userId === _id && /*#__PURE__*/_jsxDEV(DeleteIcon, {\n      onClick: handleDeleteComment,\n      sx: {\n        cursor: \"pointer\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 4\n  }, this);\n}\n_s(Comment, \"xAaVBZzd5ykym8MvmPNQqm2SkAk=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useTheme];\n});\n_c = Comment;\n;\nexport default Comment;\nvar _c;\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","Box","Typography","useTheme","UserImage","FlexBetween","setPost","DeleteIcon","jsxDEV","_jsxDEV","Comment","_ref","_s","userId","comment","postId","token","state","_id","user","setUser","dispatch","palette","main","neutral","getCommentUser","response","fetch","process","env","REACT_APP_SERVER_URL","method","headers","Authorization","data","json","handleDeleteComment","body","JSON","stringify","updatedPost","post","children","sx","display","alignItems","image","picturePath","size","fileName","_jsxFileName","lineNumber","columnNumber","variant","m","firstName","lastName","color","pl","onClick","cursor","_c","$RefreshReg$"],"sources":["C:/Users/vladi/Documents/GitHub/mern-social-media/client/src/components/Comment.jsx"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react';\nimport { useEffect } from 'react'\nimport { useSelector,useDispatch } from 'react-redux';\nimport {Box,Typography,useTheme} from \"@mui/material\";\nimport UserImage from './UserImage';\nimport FlexBetween from './FlexBetween';\nimport {setPost} from \"state\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\n\nfunction Comment({userId,comment,postId}) {\nconst token = useSelector((state)=>state.token)\nconst {_id} = useSelector((state)=>state.user);\nconst [user , setUser] = useState(\"\");\nconst dispatch = useDispatch();\nconst { palette } = useTheme();\nconst main = palette.neutral.main;\n\nconst getCommentUser = async() => {\n  const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/users/${userId}`, {\n    method: \"GET\",\n    headers: { Authorization: `Bearer ${token}` },\n  });\n  const data = await response.json();\n  setUser(data);\n};\n\nconst handleDeleteComment = async() => {\n  const response = await fetch(`${process.env.REACT_APP_SERVER_URL}/posts/${postId}/${userId}/comment/delete`,{\n    method:\"PATCH\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ comment: comment }), \n  });\n  const updatedPost = await response.json();\n  dispatch(setPost({ post: updatedPost }));\n};\n\n\nuseEffect(()=>{\n  getCommentUser();\n},[comment]) // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n   <FlexBetween>\n      <Box sx={{display:\"flex\" ,alignItems:\"center\"}}>\n      <UserImage image={user.picturePath} size=\"35px\"/>\n      <Box>\n        <Typography variant=\"h6\" sx={{ m: \"0.5rem 0rem -0.5rem 1rem\"}}>{`${user.firstName} ${user.lastName}`}</Typography>\n        <Typography sx={{ color: main, m: \"0.5rem 0\", pl: \"1rem\" }}>\n          {comment}\n        </Typography>\n      </Box>\n      </Box>\n          \n      {userId===_id && <DeleteIcon onClick={handleDeleteComment} sx={{cursor:\"pointer\"}} />}\n      </FlexBetween>\n  )\n};\n\nexport default Comment"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}